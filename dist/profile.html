<head>
    <meta name="viewport" content="width=device-width" />
    <title>CustomCrop</title>
    <link href="~/lib/bootstrap/dist/css/bootstrap.css" rel="stylesheet" />
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/croppie/2.6.5/croppie.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/croppie/2.6.5/croppie.min.js"></script>
    <style>
        .croppie-container {
            width: 100%;
            height: 80%;
        }
    </style>
</head>

<script type="text/javascript">

    //初始化Croppie
    var basic = $('#main-cropper').croppie
        ({
            viewport: { width: 300, height: 300 }, // 裁切區塊
            boundary: { width: 500, height: 400 }, // 預覽區塊
            showZoomer: true, //隱藏或顯示縮放滑塊
            url: '/DefaultImages/preview.jpg', //預設圖片
            format: 'png' //'jpeg'|'png'|'webp'
        });

    //讀取上傳指定的檔案 顯示在框中
    function readFile(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#main-cropper').croppie('bind', {
                    url: e.target.result
                });
            }
            reader.readAsDataURL(input.files[0]);
        }
    }

    // 當change 事件發動了以後 閱讀上船的文件內容
    $('#select').on('change', function () { readFile(this); });

</script>